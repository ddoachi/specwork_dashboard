---
# ============================================================================
# SPEC METADATA - Task specification
# ============================================================================

# === IDENTIFICATION ===
id: '1022'
title: 'VS Code IDE Configuration'
type: 'task'

# === HIERARCHY ===
parent: '1002'
children: []
epic: '1000'
domain: 'infrastructure'

# === WORKFLOW ===
status: 'draft'
priority: 'high'

# === TRACKING ===
created: '2025-08-27'
updated: '2025-08-27'
due_date: ''
estimated_hours: 2
actual_hours: 0

# === DEPENDENCIES ===
dependencies: ['1021'] # Requires Node.js/Yarn setup
blocks: ['1025', '1026']
related: []

# === IMPLEMENTATION ===
pull_requests: []
commits: []
context_file: "1022.context.md"
files: ['.vscode/settings.json', '.vscode/extensions.json', '.vscode/launch.json', '.vscode/tasks.json']

# === METADATA ===
tags: ['vscode', 'ide', 'debugging', 'extensions']
effort: 'small'
risk: 'low'

# ============================================================================
---

# VS Code IDE Configuration

## Overview

Configure Visual Studio Code as the primary development environment with project-specific settings, recommended extensions, debugging configurations, and task automation for the JTS trading system.

## Acceptance Criteria

- [ ] Workspace settings optimized for TypeScript/NestJS
- [ ] Essential extensions defined and documented
- [ ] Debug configurations for all microservices
- [ ] Task definitions for common operations
- [ ] Code formatting rules configured
- [ ] Git integration settings
- [ ] Search and file exclusion patterns
- [ ] Snippet definitions for common patterns

## Technical Approach

### Workspace Settings (`.vscode/settings.json`)

```json
{
  "typescript.preferences.importModuleSpecifier": "relative",
  "typescript.tsdk": "node_modules/typescript/lib",
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit",
    "source.organizeImports": "explicit"
  },
  "files.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.nx": true,
    "**/.yarn": true,
    "**/coverage": true
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.yarn": true,
    "**/coverage": true
  },
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],
  "tailwindCSS.includeLanguages": {
    "typescript": "html",
    "typescriptreact": "html"
  },
  "jest.jestCommandLine": "yarn test",
  "nx.enableTelemetry": false
}
```

### Extensions Configuration (`.vscode/extensions.json`)

```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint",
    "firsttris.vscode-jest-runner",
    "nrwl.angular-console",
    "ms-azuretools.vscode-docker",
    "redhat.vscode-yaml",
    "ms-vscode.vscode-node-azure-pack",
    "rangav.vscode-thunder-client",
    "mongodb.mongodb-vscode",
    "cweijan.vscode-database-client2",
    "bradlc.vscode-tailwindcss",
    "christian-kohler.path-intellisense",
    "aaron-bond.better-comments"
  ]
}
```

### Debug Configurations (`.vscode/launch.json`)

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug API Gateway",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "yarn",
      "runtimeArgs": ["nx", "serve", "api-gateway"],
      "env": {
        "NODE_ENV": "development"
      },
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "name": "Debug Strategy Engine",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "yarn",
      "runtimeArgs": ["nx", "serve", "strategy-engine"],
      "env": {
        "NODE_ENV": "development"
      },
      "console": "integratedTerminal"
    },
    {
      "name": "Debug Tests",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "yarn",
      "runtimeArgs": ["test", "--runInBand"],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen"
    }
  ]
}
```

### Task Definitions (`.vscode/tasks.json`)

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Start All Services",
      "type": "shell",
      "command": "yarn services:start",
      "group": "build"
    },
    {
      "label": "Run Tests",
      "type": "shell",
      "command": "yarn test",
      "group": "test"
    },
    {
      "label": "Docker Compose Up",
      "type": "shell",
      "command": "yarn dev:start",
      "group": "build"
    }
  ]
}
```

## Implementation Steps

1. **Create VS Code Directory** (15 min)
   - Initialize `.vscode` folder
   - Set proper permissions

2. **Configure Workspace Settings** (30 min)
   - TypeScript configuration
   - Format and lint settings
   - File exclusions

3. **Set Up Extensions** (30 min)
   - Define recommended extensions
   - Document extension purposes
   - Create installation script

4. **Configure Debugging** (45 min)
   - Debug configurations for each service
   - Test debug setups
   - Document debug workflows

## Deliverables

- `.vscode/settings.json` - Workspace settings
- `.vscode/extensions.json` - Recommended extensions
- `.vscode/launch.json` - Debug configurations
- `.vscode/tasks.json` - Task automation
- `docs/IDE-SETUP.md` - IDE setup guide

## Testing Plan

- Verify all extensions install correctly
- Test debug configurations for each service
- Validate formatting on save
- Check linting integration
- Test task execution
- Verify Git integration

## Notes

- Settings are optimized for Nx monorepo structure
- Debug configs use Yarn instead of npm
- Extensions focus on TypeScript/NestJS development